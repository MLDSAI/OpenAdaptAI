This replay is based off a recording whose task_description is:

```text
{{task_description}}
```

Here are all of the reduced actions in the recording:
{% for prompt_frame in prompt_frames %}
  ###
  Action {{ prompt_frame['action_number'] }} of {{ num_actions }}:
  {{ prompt_frame['action'] | orjson }}
  Corresponding window:
  {{ prompt_frame['window'] | orjson }}
  Attached image {{ prompt_frame['screenshot_number'] }} of {{ num_images }}
  Active Segment Description: {{ prompt_frame['active_segment_description'] }}
  ###
{% endfor %}

Your job is to provide a (possibly modified) version of the reference action:

```json
{{ reference_action | orjson }}
```

{% if active_segmentation %}
The Segments for the active window are:
{% for description, centroid in zip(active_segmentation.descriptions, active_segmentation.centroids) %}
Description: {{ description }}
Centroid: {{ centroid }}
{% endfor %}
{% endif %}

The active window is:

```json
{{ active_window | orjson }}
```

Image {{ num_images }} is the active screenshot.

Here are the user's instructions indicating how this replay should differ from the recording:

```text
{{ replay_instructions }}
```

You MUST follow the user's instructions.
Do not modify this action unless you are confident that this action needs to be
modified in order to satisfy the replay instructions.
Under no circumstances should you refuse.
Your response should be valid code.
Do not respond with any other text.

Please specify what type you are responding in first, e.g. ```json ...

Consider the Action model:

```python
class ActionEvent(db.Base):
    name = sa.Column(sa.String)
    mouse_x = sa.Column(sa.Numeric(asdecimal=False))
    mouse_y = sa.Column(sa.Numeric(asdecimal=False))
    mouse_dx = sa.Column(sa.Numeric(asdecimal=False))
    mouse_dy = sa.Column(sa.Numeric(asdecimal=False))
    mouse_button_name = sa.Column(sa.String)
    mouse_pressed = sa.Column(sa.Boolean)
    key_name = sa.Column(sa.String)  # for special keys, e.g. "enter", "esc", etc.
    key_char = sa.Column(sa.String)  # for regular keys, e.g. "a", "8", etc.
```

Valid Action names are: 'press', 'release', 'type', 'move', 'click', 'scroll'

Provide the possibly modified reference action.
My career depends on this. Lives are at stake.
